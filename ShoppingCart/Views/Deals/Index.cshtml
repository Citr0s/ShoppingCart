@model ShoppingCart.Controllers.Deals.DealControllerIndexData

@{
    ViewBag.Title = "Deals";
}

<h2>Deals</h2>
<div class="row">
    @foreach (var voucher in Model.Vouchers)
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">@voucher.Voucher.Title</h3>
                </div>
                <div class="panel-body"  style="height: 235px;">
                    <p><strong>@voucher.Voucher.Code</strong></p>
                    <p>Applied with the following delivery types: </p>
                    <ul>
                        @foreach (var deliveryType in voucher.AllowedDeliveryTypes)
                        {
                            <li>@deliveryType.ToString()</li>
                        }
                    </ul>
                    <p>Applied with the following pizza sizes: </p>
                    <ul>
                        @foreach (var size in voucher.AllowedSizes)
                        {
                            <li>@size.Name</li>
                        }
                    </ul>
                    <p>Cost: @(voucher.Voucher.Price.InPence == 0 ? voucher.Voucher.Notes : voucher.Voucher.Price.InFull)</p>
                </div>
                <div class="panel-footer">
                    @using (Html.BeginForm("ApplyDeal", "Deals", FormMethod.Post))
                    {
                        <fieldset>
                            @Html.Hidden("dealId", voucher.Voucher.Id)
                            <input type="submit" value="Select" class="btn btn-primary" />
                        </fieldset>
                    }
                </div>
            </div>
        </div>
    }
</div>